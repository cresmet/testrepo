get:
  summary: Retrieve a list of messages in a bucket
  tags:
    - Messages
  parameters:
    - $ref: '#/components/parameters/bucketKey'
    - name: count
      in: query
      description: 'Maxiumum number of messages to return. Default 50, max 1000.'
      schema:
        type: integer
    - name: since
      in: query
      description: Only return messages after the given Unix timestamp
      schema:
        type: integer
    - name: before
      in: query
      description: Only return messages before the given Unix timestamp
      schema:
        type: integer
  responses:
    '200':
      description: List of messages in a bucket
    default:
      $ref: '#/components/responses/UnexpectedError'
delete:
  summary: Clear a bucket (remove all messages).
  tags:
    - Messages
  parameters:
    - $ref: '#/components/parameters/bucketKey'
  responses:
    '204':
      description: No content with no body.
    default:
      $ref: '#/components/responses/UnexpectedError'
  security:
    - runscope_auth:
        - 'api:read'
        - 'message:write'
post:
  summary: Create a message
  tags:
    - Messages
  parameters:
    - $ref: '#/components/parameters/bucketKey'
  responses:
    '200':
      description: >-
        The response includes a list of result objects for the message(s)
        submitted. It will always return an array, even if only one message was
        created. The order of the result objects corresponds to the order of
        messages submitted.
      content:
        application/json:
          schema:
            properties:
              data:
                type: array
                items:
                  properties:
                    status:
                      description: 'One of the following: success, error, or warning.'
                      type: string
                    unique_identifier:
                      description: >-
                        If the message had a unique_identifier, it will be
                        returned in this field, to help match the responses to
                        the messages that were submitted.
                      type: string
                    uuid:
                      description: This message's Runscope-generated ID.
                      type: string
                    warning:
                      description: >-
                        An object representing warnings (non-fatal warnings) for
                        this item. Only present if status is warning, otherwise
                        this will be null.
                      type: object
                      properties:
                        code:
                          type: integer
                          description: >-
                            A numeric error code for the specific problem we
                            encountered with this message. (warning status only)
                        message:
                          type: string
                          description: >-
                            A description of the problem we encountered with
                            this message. (warning status only)
                        more_info:
                          type: string
                          description: >-
                            A link to more help about the warning. (warning
                            status only)
                    error:
                      description: >-
                        An object representing errors for this item. Only
                        present if status is error, otherwise this will be null.
                      type: object
                      properties:
                        code:
                          type: integer
                          description: >-
                            A numeric error code for the specific problem we
                            encountered with this message. (error status only)
                        message:
                          type: string
                          description: >-
                            A description of the problem we encountered with
                            this message. (error status only)
                        more_info:
                          type: string
                          description: >-
                            A link to more help about the warning. (error status
                            only)
                  type: object
              meta:
                type: object
                properties:
                  succcess_count:
                    type: integer
                  warning_count:
                    type: integer
                  error_count:
                    type: integer
            type: object
    default:
      $ref: '#/components/responses/UnexpectedError'
  security:
    - runscope_auth:
        - 'api:read'
        - 'message:write'
  requestBody:
    content:
      application/json:
        schema:
          $ref: '#/components/schemas/NewMessage'
    required: true
