post:
  tags:
    - things
  summary: Create Thing
  operationId: createThing
  description: >
    This endpoint allows a user with sufficient permissions to create a new
    Thing instance within Thingful's database.
  security:
    - bearer: []
    - api_key: []
  parameters:
    - $ref: '#/components/parameters/correlationId'
  responses:
    '201':
      description: Success
      headers:
        Location:
          description: The location of the newly created Thing resource
          schema:
            type: string
            format: url
      content:
        application/json:
          schema:
            type: object
            properties:
              '@context':
                $ref: '#/components/schemas/Context'
              links:
                $ref: '#/components/schemas/Links'
              data:
                type: object
                description: Container for the created Thing resource
                properties:
                  id:
                    $ref: '#/components/schemas/ThingID'
                  type:
                    type: string
                    enum:
                      - 'thingful:Thing'
                    description: >-
                      The type of the resource. For things this will always have
                      the value `thingful:Thing`.
                  attributes:
                    allOf:
                      - $ref: '#/components/schemas/ThingAttributes'
                      - $ref: '#/components/schemas/ThingAccessAttributes'
                      - $ref: '#/components/schemas/TimestampAttributes'
        text/csv:
          schema:
            type: object
            properties:
              '@context':
                $ref: '#/components/schemas/Context'
              links:
                $ref: '#/components/schemas/Links'
              data:
                type: object
                description: Container for the created Thing resource
                properties:
                  id:
                    $ref: '#/components/schemas/ThingID'
                  type:
                    type: string
                    enum:
                      - 'thingful:Thing'
                    description: >-
                      The type of the resource. For things this will always have
                      the value `thingful:Thing`.
                  attributes:
                    allOf:
                      - $ref: '#/components/schemas/ThingAttributes'
                      - $ref: '#/components/schemas/ThingAccessAttributes'
                      - $ref: '#/components/schemas/TimestampAttributes'
  requestBody:
    content:
      application/json:
        schema:
          type: object
          properties:
            data:
              type: object
              description: The top level container for the updated data for the Thing.
              required:
                - type
                - attributes
              properties:
                type:
                  type: string
                  enum:
                    - 'thingful:Thing'
                  description: >-
                    The type of resource we are updating. For things this must
                    be `thingful:Thing`.
                attributes:
                  allOf:
                    - $ref: '#/components/schemas/ThingAttributes'
                    - $ref: '#/components/schemas/ThingCreateAttributes'
                  required:
                    - title
                    - visibility
                    - endpoint
                    - provider
                    - category
                    - license
                    - location
                    - channels
      text/csv:
        schema:
          type: object
          properties:
            data:
              type: object
              description: The top level container for the updated data for the Thing.
              required:
                - type
                - attributes
              properties:
                type:
                  type: string
                  enum:
                    - 'thingful:Thing'
                  description: >-
                    The type of resource we are updating. For things this must
                    be `thingful:Thing`.
                attributes:
                  allOf:
                    - $ref: '#/components/schemas/ThingAttributes'
                    - $ref: '#/components/schemas/ThingCreateAttributes'
                  required:
                    - title
                    - visibility
                    - endpoint
                    - provider
                    - category
                    - license
                    - location
                    - channels
    description: The incoming Thing data to create.
    required: true
